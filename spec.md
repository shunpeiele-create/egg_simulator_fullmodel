# EGG MOUSE SIMULATOR - 設計・技術仕様書 (v125)

## 1. プロジェクト概要
本アプリケーションは、エレコム株式会社の製品「EGG MOUSE」の展示会場におけるプロモーション用Webベース・シミュレーターである。iPad Pro 13インチでのフルスクリーン運用を前提とし、高いデザイン性と有機的なインタラクションを両立させる。

* **正式名称**: EGG MOUSE SIMULATOR
* **最終バージョン**: v125
* **ターゲット環境**: iPad Pro 13インチ (iOS Safari / PWA形式)

---

## 2. デザイン・レイアウト設計

### 2.1 画面構成比率 (1.6 : 1)
iPadを横持ち（Landscape）した際の画面を「黄金比」をベースに分割。
* **Preview Pane (左側: 61.5%)**:
    * 背景コンセプト画像および動的なマウス合成プレビュー。
    * プレビュー画像は `absolute` 中央配置により、デバイス解像度に依存しない。
* **Control Pane (右側: 38.5%)**:
    * 背景色: `#ffffff` / ボーダー: `#e5e5ea`。
    * セクション間に「1行分（40px）」の垂直マージンを確保し、操作ミスを防止。

### 2.2 タイポグラフィ
* **メインフォント**: `Futura PT` (英語) / `源ノ角ゴシック JP (Noto Sans JP)` (日本語)。
* **タイトルラベル**: **17px / Weight: 900** で統一。
* **アクセシビリティ**: 読みやすさを考慮し、日英併記を基本とする。

---

## 3. 機能仕様

### 3.1 段階的シミュレーション
1.  **Step 01: Body Selection**: 5色のカラーから選択。未選択時はStep 02をロック（透過・無効化）。
2.  **Step 02: Cover Selection**: 透明・不透明カバーをグリッド（3列×n段）から選択。
    * **誘導エフェクト**: 選択完了時に次項目の見出しが一度だけ「上に跳ねる」バウンス演出を実行。

### 3.2 投稿・コミュニティ連携
* **Fly Animation**: 「POST NOW」タップ時、製品画像が画面上方へバネのように加速して飛んでいく独自物理アニメーション。
* **Community Area**: 最新の20件をランダムに浮遊表示。
    * **登場エフェクト**: 投稿完了直後、該当マウスが「大きく光りながらポップアップ」して登場。
    * **動的スペース制御**: 画面の残り垂直スペースを自動で埋める `flex-grow` 設計。

### 3.3 アンケート・コンプライアンス
* **ワイドモーダル**: iPadの画面比率に合わせ、最大幅1200px / 縦幅72%の低重心レイアウトを採用。
* **同意項目**: 「個人情報の取り扱い事項に同意する (Agree to the privacy policy)」を必須化。

---

## 4. 物理演算アルゴリズム (Organic Float)

マウスたちが生命体のように漂うための演算ロジック。

| 項目 | ロジック / パラメータ | 目的 |
| :--- | :--- | :--- |
| **永久推力** | `dx, dy (random force)` | 停滞させないための微小な推進エネルギー供給。 |
| **衝突物理** | `Collision Detection (Distance)` | マウス同士が接近した際、反発ベクトルを発生させる。 |
| **空気抵抗** | `vx, vy *= 0.975` | 物理挙動を「滑らか」かつ「優雅」に減衰させる。 |
| **境界反発** | `Wall Bounce (-0.8)` | 壁との接触時に弾力を感じさせる跳ね返り。 |
| **ドラッグ慣性** | `PointerEvent Tracking` | iPadのタッチ座標と速度を物理エンジンに即時同期。 |

---

## 5. iPad Pro / アプリ化最適化 (Strict UI Lock)

* **Safe Area 制御**: `fixed / inset: 0` 指定により、ステータスバー（時計・バッテリー帯）によるレイアウト崩れを完封。
* **バウンス防止**: iOS Safari 特有の画面端での上下の揺れを CSS/JS 両面から遮断。
* **テキスト選択禁止**: 長押しによるコピー操作、コンテキストメニューの出現を全域でロック。
* **残像抑止 (GPU)**: `translateZ(0)` によるハードウェアアクセラレーションを適用し、残像（ゴースト現象）を排除。
* **アプリアイコン**: `image/base_1.png` を `apple-touch-icon` として自動設定。

---

## 6. 管理者機能 (ADMIN)
* **認証**: 画面右上の隠し⚙ボタンからパスワード（初期値：1234）でアクセス。
* **データ管理**: CSVエクスポート、アンケート表示のON/OFF切り替え、全消去。

---

## 7. ディレクトリ構造

```text
/ (Project Root)
├── index.html
├── title.png (製品タイトル画像)
└── image/
    ├── base_1.png 〜 base_5.png
    ├── cover_1.png 〜 cover_10.png
    ├── default.png (プレビュー用背景)
    ├── saver_bg.png (セーバー用半透明ロゴ)
    └── guide.png (操作ガイド)
